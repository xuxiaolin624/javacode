<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<!-- Bootstrap -->
<link th:href="${'/vendors/bootstrap/dist/css/bootstrap.min.css'}"
	rel="stylesheet" />
<!-- Font Awesome -->
<link th:href="${'/vendors/font-awesome/css/font-awesome.min.css'}"
	rel="stylesheet" />
</head>
<body>
	<div>
		<div class="login_wrapper">
			<div class="animate form">
				<section class="login_content">
					<form action="javascript:void(0)" method="post">
						<h1>注 册</h1>
						<div> 
							<input name="userName" type="text" class="form-control"
								placeholder="账号" required="" />
						</div>
						<!-- 		<div>
							<input name="email" type="email" class="form-control" placeholder="邮箱"
								required="" />
						</div> -->
						<div>
							<input name="password" type="password" class="form-control"
								placeholder="密码" required="" />
						</div>
						<div>
							<!-- role="button" -->
							<button class="btn btn-success submit" href="javascript:void(0);"
								id="registerButton">注 册</button>
						</div>

						<div class="clearfix"></div>

						<div class="separator">
							<p class="change_link">
								已有账号 <a href="/account/login" class="to_register"> 登 录 </a>
							</p>

							<div class="clearfix"></div>
							<br />

							<div>
								<h1>
									<i class="fa fa-paw"></i> *** 管理系统
								</h1>
								<p>©2020 All Rights Reserved.</p>
							</div>
						</div>
					</form>
				</section>
			</div>
		</div>
	</div>
	<script type="text/javascript">
		$(document).ready(function() {
			$("#registerButton").on("click", function() {
				register();
			})
		});

		function register() {
			var user = {};
			user.userName = $("[name='userName']").val();
			user.password = $("[name='password']").val();
			$.ajax({
				url : "/api/user",
				type : "post",
				contentType : "application/json",
				data : JSON.stringify(user),
				success : function(data) {
					if (data.status == 200) {
						//location.href = "/index";
						layer.msg(data.message, {
							icon : 0
						});
					} else {
						layer.msg(data.message, {
							icon : 0
						});
					}
				},
				error : function(data) {
					layer.msg(data.responseText, {
						icon : 0
					});
				}
			});
		}
	</script>
</body>
</html>